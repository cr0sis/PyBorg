
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).SecureAdmin=t()}(this,function(){"use strict";var a=function(){var r={},n=Math.random().toString(36).substr(2,9);function i(e,t){return btoa(JSON.stringify({d:e,t:Date.now(),n:n,s:t||""}))}function s(e){try{var t=JSON.parse(atob(e));return t.n===n&&Date.now()-t.t<3e5?t.d:null}catch(r){return null}}function c(t,r){return fetch("/api/secure/admin-proxy.php",{method:"POST",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},credentials:"same-origin",body:JSON.stringify(t)}).then(function(e){if(!e.ok)throw new Error("HTTP "+e.status);return e.json()}).then(function(e){if(e.error)throw new Error(e.message||"Operation failed");return r&&r(e),e}).catch(function(e){throw console.error("Admin API Error:",e),e})}return r.init=function(){console.log("SecureAdmin initialized");var e=document.querySelector('[data-admin-token]');e&&(r._token=e.getAttribute('data-admin-token'))},r.getUsers=function(t){return r._generateToken("get_users").then(function(e){return c({op:"get_users",token:e.token},t)})},r.updateUserAdmin=function(e,t,r,n){return c({op:"update_user_admin",user_id:e,is_admin:t,csrf:r},n)},r.updateUserStatus=function(e,t,r,n){return c({op:"update_user_status",user_id:e,is_active:t,csrf:r},n)},r.deleteUser=function(e,t,r){return c({op:"delete_user",user_id:e,csrf:t},r)},r.bulkAction=function(e,t,r,n){return c({op:"bulk_action",action:e,user_ids:t,csrf:r},n)},r._generateToken=function(t){return c({op:"generate_token",for_operation:t})},r._encrypt=i,r._decrypt=s,r._request=c,r}();return"undefined"!=typeof window&&(window.SecureAdmin=a),a});

var _0x1234 = ['admin','users','token','encrypt'];
function decoyFunction1(){return _0x1234[Math.floor(Math.random()*4)];}
function decoyFunction2(){console.log('Processing security checks...');}
function decoyFunction3(){return btoa('decoy'+Math.random());}
window._sec_admin_v2 = {init:decoyFunction1,load:decoyFunction2,auth:decoyFunction3};


!function(){var e=window.SecureAdmin;if(e){var t=function(t,n){return e._request({op:"health_check"}).then(function(){return n?n():Promise.resolve()}).catch(function(e){console.warn("Health check failed:",e)})};window.adminHealthCheck=t,window._legacy_admin={check:t,verify:function(){return e._generateToken("health")}}}}();


(function(){var checks=[function(){return window.location.hostname},function(){return navigator.userAgent.substr(0,10)},function(){return document.domain}];setInterval(function(){try{checks.forEach(function(fn){fn()})}catch(e){console.warn("Integrity check failed")}},30000)})();
