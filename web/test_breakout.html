<!DOCTYPE html>
<html>
<head>
    <title>Breakout Test</title>
    <style>
        body { margin: 0; padding: 20px; background: #111; color: white; font-family: Arial; }
        #error { color: red; white-space: pre-wrap; margin: 20px; }
    </style>
</head>
<body>
    <h1>Breakout Game Debug Test</h1>
    <div id="error"></div>
    <iframe id="gameFrame" src="breakout.html" width="1200" height="900" style="border: 2px solid #333;"></iframe>
    
    <script>
        const errorDiv = document.getElementById('error');
        
        // Capture console errors from iframe
        window.addEventListener('message', function(e) {
            if (e.data && e.data.type === 'error') {
                errorDiv.textContent += e.data.message + '\n' + e.data.stack + '\n\n';
            }
        });
        
        // Wait for iframe to load
        document.getElementById('gameFrame').onload = function() {
            try {
                const iframeWindow = this.contentWindow;
                const originalError = iframeWindow.console.error;
                
                // Override console.error in iframe
                iframeWindow.console.error = function(...args) {
                    originalError.apply(this, args);
                    errorDiv.textContent += 'Console Error: ' + args.join(' ') + '\n\n';
                };
                
                // Capture uncaught errors
                iframeWindow.addEventListener('error', function(e) {
                    errorDiv.textContent += 'Uncaught Error: ' + e.message + '\nFile: ' + e.filename + '\nLine: ' + e.lineno + '\n\n';
                });
                
            } catch (e) {
                errorDiv.textContent += 'Cannot access iframe (cross-origin): ' + e.message + '\n';
            }
        };
    </script>
</body>
</html>